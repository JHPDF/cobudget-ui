<div class="review-bulk-allocation-page" ng-if="authorized">
  <admin-toolbar></admin-toolbar>

  <div class="review-bulk-allocation-page__header" layout="column" layout-align="end center">
    <div layout="row" layout-align="center center">
      <div class="review-bulk-allocation-page__upload-icon-container">
        <ng-md-icon icon="cloud_upload"
        class="review-bulk-allocation-page__upload-icon"
        size="22"
        layout="column"
        layout-align="center center"
        ></ng-md-icon>
      </div>

      <h1 class="review-bulk-allocation-page__header-text">
        Please review & confirm your upload
      </h1>
    </div>
  </div>

  <md-content class="review-bulk-allocation-page__content">
    <h2 class="review-bulk-allocation-page__subheader">
      Overview
    </h2>

    <p class="review-bulk-allocation-page__text-overview">
      Looks like you're trying to

      <span>
        add
        <b class="review-bulk-allocation-page__addition-overview">
          ${{ summedAllocationsFrom(peopleWithPositiveAllocations) }} total
          <ng-pluralize
            count="peopleWithPositiveAllocations.length"
            when="{
              'one': 'to 1 person',
              'other': 'to {} people'
            }"
          ></ng-pluralize>
        </b>
      </span>

      <span>
        subtract
        <b class="review-bulk-allocation-page__subtraction-overview">
          ${{ summedAllocationsFrom(peopleWithNegativeAllocations) }} total
          <ng-pluralize
            count="peopleWithNegativeAllocations.length"
            when="{
              'one': 'from 1 person',
              'other': 'from {} people'
            }"
          ></ng-pluralize>
        </b>
      </span>

      <span>
        add
        <b>
          <ng-pluralize
            count="newPeople.length"
            when="{
              'one': '1 new person',
              'other': '{} new people'
            }"
          ></ng-pluralize>
        </b>
      </span>

       to {{ group.name }}
    </p>

    <div layout="column">
      <div layout="row" layout-align="space-between center">
        <div class="review-bulk-allocation-page__list-header">People & status</div>
        <div class="review-bulk-allocation-page__funds-column-container" layout="row" layout-align="start center">
          <div class="review-bulk-allocation-page__list-header">Funds</div>
        </div>
      </div>

      <md-divider class="review-bulk-allocation-page__top-divider"></md-divider>

      <div class="review-bulk-allocation-page__list-row" layout="row" layout-align="space-between start" ng-repeat="person in people">
        <div layout="column" layout-align="start start">
          <div ng-if="person.new_member" class="review-bulk-allocation-page__name-and-email"><b>{{ person.email }}</b></div>
          <div ng-if="!person.new_member" class="review-bulk-allocation-page__name-and-email"><b>{{ person.name }}</b> ( {{ person.email }} )</div>

          <div ng-if="person.new_member" class="review-bulk-allocation-page__invitation-text" layout="row" layout-align="space-between center">
            <ng-md-icon icon="mail"
              class="review-bulk-allocation-page__item-icon"
              layout="column"
              layout-align="center center"
            ></ng-md-icon>
            <div>Invitation Ready</div>
          </div>
        </div>

        <div class="review-bulk-allocation-page__funds-column-container" layout="row" layout-align="space-between center">
          <div class="review-bulk-allocation-page__funds-amount">{{ person.allocation_amount }}</div>

          <div>
            <ng-md-icon
              icon="more_vert"
              layout="column"
              layout-align="center center"
              class="group-page__funder-more-button-icon"
            ></ng-md-icon>
          </div>
        </div>
      </div>
    </div>

    <md-divider class="review-bulk-allocation-page__bottom-divider"></md-divider>

    <div layout="column" layout-align="center space-between">
      <md-button class="review-bulk-allocation-page__btn review-bulk-allocation-page__confirm-btn">Confirm</md-button>
      <md-button class="review-bulk-allocation-page__btn review-bulk-allocation-page__try-again-btn">Try Again</md-button>
      <md-button class="review-bulk-allocation-page__btn review-bulk-allocation-page__cancel-btn">Cancel</md-button>
    </div>
  </md-content>
</div>
