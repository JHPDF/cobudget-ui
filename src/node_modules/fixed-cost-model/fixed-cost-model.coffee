Decimal = require('big.js')

module.exports = ->
  class FixedCostModel
    constructor: (data = {}) ->
      @id = data.id
      @roundId = data.roundId
      @name = data.name
      @description = data.description
      @amount = new Decimal(data.amount or 0)

      Object.defineProperties @,
        amountDollars:
          get: ->
            Number(@amount.toFixed(2))
          set: (amountDollars) ->
            @amount = new Decimal(amountDollars or 0)

    serialize: ->
      {
        id: @id
        roundId: @roundId
        name: @name
        description: @description
        amount: @amount.toFixed(2)
      }
