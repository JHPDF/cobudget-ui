debug = require('debug')
# ridiculous hack for @ngInject due to code at top from coffee class extension
null
### @ngInject ###
module.exports = (BaseStore, config, MembershipModel) ->
  class MembershipsStore extends BaseStore
    path: (params = {}, op) ->
      debug("path", params, op)
      if params.id?
        "#{@baseUrl}/#{@plural}/#{params.id}"
      else if op == "all"
        "#{@baseUrl}/groups/#{params.groupId}/#{@plural}"
      else
        # create
        "#{@baseUrl}/#{@plural}"

  new MembershipsStore(
    baseUrl: config.apiEndpoint
    singular: "membership"
    plural: "memberships"
    Model: MembershipModel
  )