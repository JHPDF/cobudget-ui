<!--{{currentBudgetId}}-->
<div class="contributors-page">

  <div class="row contributor-list">

    <!--
    <div class="row section titles">
      <p class="col-md-3">Contributor</p>
      <p class="col-md-3 center">Total Allocation</p>
      <p class="col-md-3 center">Contributed so Far</p>
      <p class="col-md-3 center">Left to Contribute</p>
    </div>

    <div ng-repeat="contributor in contributors" class="row section contributor-details">
      <p class="col-md-3">{{ contributor.name }}</p>
      <p class="col-md-3 center">$ {{ contributor.allocation }}</p>
      <p class="col-md-3 center">$ {{ contributor.contribution ? contributor.contribution : 0 }}</p>
      <p class="col-md-3 center">$ {{ contributor.allocation - contributor.contribution}}</p>
    </div>
    -->

    <div>
      <table class="row table table-bordered table-hover table-condensed">
        <tr>
          <th class="col-md-4">Name</th>
          <th class="col-md-2">Total Allocation</th>
          <th class="col-md-2">Contributed So Far</th>
          <th class="col-md-2">Left to Contribute</th>
          <th class="col-md-2">Edit</th>
        </tr>

        <tr ng-repeat="member in members" class="section contributors details">
          <td>
            <span class="contributor-name">{{ member.user.name }}</span>
          </td>

          <td>
            <span editable-text="member.allocation" e-name="allocation" e-form="rowform">{{ member.allocation || 'allocation' }}</span>
          </td>

          <td>
            <span>{{ member.contribution ? member.contribution : 0 }}</span>
          </td>

          <td>
            <span>{{ member.allocation - member.contribution}}</span>
          </td>

          <td style="white-space: nowrap">
            <form editable-form name="rowform" onbeforesave="saveFixedCost($data, fixedCost.id, $index)" ng-show="rowform.$visible" class="form-buttons form-inline" shown="inserted == fixedCost">
              <button type="submit" ng-disabled="rowform.$waiting" class="btn btn-primary">
                save
              </button>
              <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="btn btn-default">
                cancel
              </button>
            </form>
            <div class="buttons" ng-show="!rowform.$visible">
              <button class="btn btn-primary" ng-click="rowform.$show()">edit</button>
              <button class="btn btn-danger" ng-click="removeFixedCost($index)">del</button>
            </div>
          </td>

        </tr>
      </table>

      <button class="btn btn-default" ng-click="addFixedCost()">Add row</button>
    </div>

  </div>

  <!--MAYBE PUT TOTALS HERE LATER-->

</div>
    <!--
      <h4>What the contributors have now...</h4>
      <div class="contributor-list" ng-repeat="contributor in contributors">
      <div class="contributor" ng-if='currentBudget'>
      ${{contributor.allocation_rights_cents / 100}}
      --------------
      {{contributor.name}}
      </div>
      </div>
    -->


