### @ngInject ###
module.exports = (BaseModel, UserModel) ->
  BaseModel.extend
    
    type: "Membership"

    props:
      groupId: "number"

    children:
      user: UserModel

    serialize: ->
      serialized = BaseModel.prototype.serialize.call(@)
      serialized.userId = serialized.user.id
      delete serialized.user
      serialized
