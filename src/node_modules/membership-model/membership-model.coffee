moment = require('moment')

### @ngInject ###
module.exports = (UserModel) ->
  class MembershipModel
    constructor: (data = {}) ->
      @id = data.id
      @groupId = data.groupId
      @isAdmin = data.isAdmin
      @createdAt = moment(data.createdAt)
      @member = new UserModel(data.member)

    serialize: ->
      {
        id: @id
        groupId: @groupId
        isAdmin: @isAdmin
        member: @member.serialize()
      }
