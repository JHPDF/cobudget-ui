$status-transition-time: 150ms

.bucket.item
  padding: round($grid-gutter-width / 3) round($grid-gutter-width / 2)
  display: flex
  flex-direction: column;

  .name

  .contribution-row
    display: flex
    justify-content: space-around

  .progress-column
    flex-grow: 1

  .progress
    margin-top: round($grid-gutter-width / 3)
    background-color: darken($gray-lighter, 8%)
    margin-bottom: 0
    border-radius: 0
    height: 12px

    .progress-bar
      &.group
        background-color: $brand-group
      &.my
        background-color: $brand-my
        &.my-allocation-error
          background-color: $brand-danger
        &.my-allocation-done
          background-color: $brand-success
        &.pending-round, &.closed-round
          background-color: $gray-light

  &.selected
    background-color: $brand-primary-light

  .name
    padding-top: round($grid-gutter-width / 6)
    margin: 0
    font-size: round($font-size-base * 1.1)
    color: $gray-dark

  .contribution
    float: right
    text-align: right
    font-weight: $font-weight-semibold
    margin-left: round($grid-gutter-width / 2)

    .amount-group, .btn
      float: right
      width: round($grid-gutter-width * 2.75)
      height: round($grid-gutter-width)
      color: $brand-my
      @include rounded(0.3em)

      border: 1px solid $brand-my
      transition: border-color ease-out $status-transition-time

    .btn
      text-align: center
      padding: round($grid-gutter-width / 8) 0

      color: $brand-my
      background-color: $white

      &:hover
        color: $white
        background-color: $brand-my

      transition: background-color ease-out $status-transition-time
      transition: color ease-out $status-transition-time

    .amount-group
      position: relative
      background-color: $white

      color: $brand-my
      transition: color ease-out $status-transition-time

      .currency
        position: absolute
        top: 1px
        left: 0
        pointer-events: none
        padding: round($grid-gutter-width / 8) round($grid-gutter-width / 4)

      .amount
        outline: none
        border: none
        display: inline-block
        text-align: right
        width: 100%
        height: 100%
        padding: round($grid-gutter-width / 8) round($grid-gutter-width / 4)

      .info
        font-size: round($font-size-base * 0.7)
        color: $gray-light

        &.long
          text-rendering: optimizeLegibility
          font-feature-settings: "kern"
          letter-spacing: -0.7px

    &.my-allocation-done
      .amount-group, .btn
      .btn
        border-color: $gray-light
        color: $gray
        background-color: $gray-lighter
      .amount-group
        border-color: $brand-success
        color: $brand-success
      &.saved
        .amount-group
          background-color: $brand-success
          &:hover
            background-color: darken($brand-success, 10%)

    &.my-allocation-error
      .amount-group, .btn
        border-color: $brand-danger
      .btn
        background-color: $brand-danger
      .amount-group
        color: $brand-danger

    &.pending-round, &.closed-round, &.saving
      .amount-group, .btn
        border-color: $gray-light
      .amount-group
        background-color: $gray-lighter
      .btn
        background-color: $white
        color: $gray-light
    &.pending-round.saved, &.closed-round.saved
      .amount-group
        background-color: $gray-light
        &:hover
          background-color: darken($gray-light, 10%)
    &.ready
    &.unsaved
    &.saving
      .amount-group
        cursor: not-allowed;
        color: $gray-light
    &.saved
      .amount-group
        background-color: $brand-my
        color: $white
        &:hover
          background-color: darken($brand-my, 10%)
    &.error

    input[type="number"]::-webkit-inner-spin-button, 
    input[type="number"]::-webkit-outer-spin-button
      -webkit-appearance: none
      margin: 0

    input[type="number"]
      -moz-appearance: textfield

      &:active, &:focus
        outline: none
        border: none

  .equation
    float: left

    .groupContribution
      color: $brand-group
    .groupPlusMy
      color: $gray-light
    .myContribution
      color: $brand-my
      &.my-allocation-done
        color: $brand-success
      &.my-allocation-error
        color: $brand-danger
      &.pending-round, &.closed-round
        color: $gray-light
    .fundedAmount
      color: $brand-group-alt

  .target
    float: right
    color: $brand-group
