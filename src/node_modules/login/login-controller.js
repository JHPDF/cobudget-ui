/* @ngInject */
module.exports = function ($scope, $modalInstance, AuthService, Login) {

  $scope.user = {};

  $scope.submit = function (loginForm) {
    $scope.submitted = true

    if (loginForm.$invalid) {
      return;
    }

    AuthService.login($scope.user)
    .then(function () {
      $modalInstance.close();
    }, function (err) {
      $modalInstance.dismiss(err);
    })
  };

  $scope.cancel = function () {
    $modalInstance.dismiss(null)
  };

  $scope.resetLogin = function () {
    Login.openResetLogin();
  };

}
