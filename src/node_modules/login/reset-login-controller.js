/* @ngInject */
module.exports = function ($scope, $modalInstance, BaseCollection, AuthService) {

  $scope.user = {};
  $scope.alerts = new BaseCollection();
  
  $scope.submit = function (resetPassword) {
    $scope.submitted = true;

    if (resetPassword.$invalid) {
      debug("invalid", resetPassword);
      return;
    }

    AuthService.resetPassword({
      user: $scope.user,
    })
    .then(function () {
      $modalInstance.close()
    }, function (err) {
      // check for handleable errors

      // otherwise throw error
      $modalInstance.dismiss(err)
    });
  };

  $scope.cancel = function () {
    $modalInstance.dismiss(null);
  };
};
