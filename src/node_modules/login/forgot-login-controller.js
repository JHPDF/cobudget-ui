/* @ngInject */
module.exports = function ($scope, $modalInstance, BaseCollection, AuthService) {

  $scope.user = {};
  $scope.alerts = new BaseCollection();
  
  $scope.submit = function (resetPassword) {
    $scope.submitted = true;

    AuthService.forgotLogin($scope.user)
    .then(function () {
      $modalInstance.close($scope.user)
    }, function (err) {
      // check for handleable errors

      // otherwise pass error up
      $modalInstance.dismiss(err)
    });
  };

  $scope.cancel = function () {
    $modalInstance.dismiss(null);
  };
};
