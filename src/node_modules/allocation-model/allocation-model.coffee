Decimal = require('big.js')

### @ngInject ###
module.exports = (UserModel) ->
  class AllocationModel
    constructor: (data = {}) ->
      @id = data.id
      @userId = data.userId
      @roundId = data.roundId
      @amount = new Decimal(data.amountCents or 0).div(100)

    serialize: ->
      {
        id: @id,
        userId: @userId
        roundId: @roundId
        amountCents: @amount.times(100).toFixed(0)
      }
